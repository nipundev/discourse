<ChatDrawer::Header @toggleExpand={{@drawerActions.toggleExpand}}>
  <ChatDrawer::Header::LeftActions />

  <ChatDrawer::Header::ChannelTitle
    @channel={{this.chat.activeChannel}}
    @drawerActions={{@drawerActions}}
  />

  <ChatDrawer::Header::RightActions @drawerActions={{@drawerActions}} />
</ChatDrawer::Header>

{{#if this.chatStateManager.isDrawerExpanded}}
  <div
    class="chat-drawer-content"
    {{did-insert this.fetchChannel}}
    {{did-update this.fetchChannel @params.channelId}}
  >
    {{#if this.chat.activeChannel}}
      {{#each (array this.chat.activeChannel) as |channel|}}
        {{#if channel}}
          <ChatChannel
            @targetMessageId={{readonly @params.messageId}}
            @channel={{channel}}
          />
        {{/if}}
      {{/each}}
    {{/if}}
  </div>
{{/if}}